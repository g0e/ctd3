<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=8;IE=9"/>
		<title>Test ctd3</title>
		<link rel="stylesheet" href="./../dist/ctd3.css" type="text/css" />
		<script type="text/javascript" src="./../vendor/d3.v3/d3.v3.js"></script>
		<script type="text/javascript" src="./../dist/ctd3.js"></script>
		<script type="text/javascript" src="./../dist/dataset_sample.js"></script>
		<script type="text/javascript" src="./dataset.json"></script>
		<script type="text/javascript">
<!--
var t=null;
window.onload = function(){
	(function(){
		var div_id = "table2";
		d3.select("#tables").append("div").attr("id",div_id).style("margin","20px");
		var ds = dataset.fruit;
		for(var i=0;i<ds.length;i++){
			ds[i].check = false;
		}
		t = new ctd3.Table(div_id,ds);
		var onclick_func = function(m,d,i){
			d3.select(this).on("click",function(){
				console.log(d);
			});
		}
		var create_check = function(v){
			return "<input type='checkbox' name='hoge'"+(v?"checked":"")+"></input>";
		}
		var save_check = function(m,d){
			d3.select(this).select("input").on("change",function(){
				d3.select(this.parentNode.parentNode).datum().check = d3.select(this).property("checked");
			});
		}
		var meta = {
			check:{ label:"checklist", html_format:create_check, js_format:save_check },
			price:{ label:"<i>PrIce</i>", visualize:"bar", width2:"100px", js_format:onclick_func },
			profit:{ 
				text_format: d3.format("%"),
				visualize:"gradation", visualize_high_color:"green", visualize_low_color:"white",
				width2: "200px",
			},
			stock:{ visualize:"bar",visualize_bar_color:"orange",width2: 2.0 },
			color:{ filter_type:"select" },
		};
		t.setup_meta(meta);
		var options = {
			caption: "customized table",
			auto_resize: true,
		};
		t.setup_options(options);
		t.render();
	})();
};
-->
		</script>
	</head>
	<body>
		<h1>ctd3 sample tables</h1>
		<div id="tables" style="width:90%;">
		</div>
	</body>
</html>
